/* ============================
   Î” DELTA 360 â€” COMPONENTS
   ============================ */

/* --- BUTTONS --- */
.hb{font-weight:600;cursor:pointer;border:1px solid var(--bd);background:0 0;color:var(--t2);padding:5px 12px;border-radius:var(--rs);font-size:11px;letter-spacing:.3px;transition:all var(--tr);font-family:inherit}
.hb:hover{border-color:var(--a);color:var(--a)}.hb.p{background:var(--a);color:#fff;border-color:var(--a);font-weight:600}
.hb.p:hover{opacity:.9}
.hb.active-panel{background:var(--ad);border-color:var(--a);color:var(--a)}
.ib{background:0 0;border:1px solid var(--bd);color:var(--t3);width:32px;height:32px;border-radius:var(--rs);cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all var(--tr)}
.ib:hover{border-color:var(--t3);color:var(--t)}.ib.active-panel{background:var(--ad);border-color:var(--a);color:var(--a)}

/* Status badges */
.stat-b{font-size:9px;font-weight:700;padding:3px 8px;border-radius:20px;letter-spacing:.5px;text-transform:uppercase}
.stat-avl{background:rgba(34,197,94,.08);color:var(--ok);border:1px solid rgba(34,197,94,.15)}
.stat-bsy{background:rgba(239,68,68,.06);color:var(--dg);border:1px solid rgba(239,68,68,.1)}
.stat-awy{background:rgba(234,179,8,.06);color:var(--warn);border:1px solid rgba(234,179,8,.12)}

/* --- OVERLAYS --- */
.ov{display:none;position:absolute;inset:0;background:var(--bg2);z-index:3500;flex-direction:column;padding:24px;overflow-y:auto}
.ov.show{display:flex}
.ov input,.ov select,.ov textarea{background:var(--card);border:1px solid var(--bd);color:var(--t);padding:10px 14px;border-radius:var(--rs);font-size:14px;font-family:inherit;outline:0;transition:border var(--tr)}
.ov input:focus,.ov textarea:focus{border-color:var(--a)}
.ot{font-size:11px;color:var(--t3);font-weight:600;letter-spacing:1px;margin-bottom:8px;text-transform:uppercase}
.oclose{position:absolute;top:16px;right:20px;background:0 0;border:0;color:var(--t3);font-size:18px;cursor:pointer;padding:4px;transition:color var(--tr)}
.oclose:hover{color:var(--t)}

/* --- TRAYS --- */
.tray-w{position:relative;display:inline-block}
.tbtn{cursor:pointer;border:1px solid var(--bd);background:0 0;color:var(--t3);padding:5px 10px;border-radius:var(--rs);font-size:12px;font-weight:500;transition:all var(--tr);display:flex;align-items:center;gap:4px;font-family:inherit}
.tbtn:hover{border-color:var(--t3);color:var(--t)}.tbtn.open{background:var(--ad);border-color:var(--a);color:var(--a)}
.tray{display:none;position:absolute;top:calc(100% + 6px);right:0;background:var(--bg2);border:1px solid var(--bd);border-radius:var(--r);padding:6px;z-index:9000;min-width:170px;box-shadow:0 8px 32px rgba(0,0,0,.4);backdrop-filter:blur(12px)}
.tray.show{display:flex;flex-direction:column;gap:2px}
.tray-i{display:flex;align-items:center;gap:10px;padding:9px 14px;border-radius:var(--rs);cursor:pointer;font-size:13px;color:var(--t2);transition:all var(--tr);white-space:nowrap;border:0;background:0 0;font-family:inherit;text-align:left;width:100%}
.tray-i:hover{background:var(--card);color:var(--t)}.tray-i .ico{font-size:14px;width:18px;text-align:center;flex-shrink:0}
.tray-i.danger{color:var(--dg)}.tray-i.danger:hover{background:rgba(239,68,68,.04)}
.tray-sep{height:1px;background:var(--bd);margin:4px 10px}

/* --- DISPATCH BOARD --- */
#dboard{display:none;background:var(--bg2);border-bottom:1px solid var(--bd);padding:6px 16px;flex-shrink:0;overflow-x:auto;white-space:nowrap;gap:8px;align-items:center}
#dboard.show{display:flex}
#dboard .db-title{font-size:9px;font-weight:700;color:var(--t4);letter-spacing:2px;text-transform:uppercase;flex-shrink:0;margin-right:8px}
.db-chip{display:inline-flex;align-items:center;gap:5px;padding:4px 10px;border-radius:20px;font-size:10px;font-weight:600;border:1px solid var(--bd);background:var(--card);flex-shrink:0}
.db-chip .db-dot{width:5px;height:5px;border-radius:50%;flex-shrink:0}
.db-chip .db-dot.avl{background:var(--ok)}.db-chip .db-dot.bsy{background:var(--dg)}.db-chip .db-dot.awy{background:var(--warn)}
.db-chip .db-name{color:var(--t2)}
.db-chip.me{border-color:rgba(255,92,0,.2);background:var(--ad)}.db-chip.me .db-name{color:var(--a);font-weight:700}

/* --- TOASTS --- */
#toast-zone{position:fixed;top:56px;right:16px;z-index:9500;display:flex;flex-direction:column;gap:8px;pointer-events:none}
.toast{background:var(--bg2);border:1px solid var(--bd);border-left:3px solid var(--a);border-radius:var(--r);padding:12px 16px;max-width:320px;pointer-events:auto;cursor:pointer;animation:tIn .25s ease-out;box-shadow:0 8px 32px rgba(0,0,0,.35)}
.toast .t-hdr{font-size:10px;color:var(--a);font-weight:700;letter-spacing:.5px;margin-bottom:4px;display:flex;justify-content:space-between}
.toast .t-body{font-size:13px;color:var(--t);line-height:1.5}.toast .t-meta{font-size:10px;color:var(--t3);margin-top:4px}
.toast.pri-toast{border-color:var(--dg);border-left-color:var(--dg)}.toast.pri-toast .t-hdr{color:var(--dg)}

/* --- CARDS --- */
.card{width:95%;max-width:640px;background:var(--card);padding:14px 16px;border-radius:var(--r);margin-bottom:6px;border:1px solid var(--bd2);border-left:2px solid var(--a);position:relative;transition:background var(--tr);animation:cIn .15s ease-out}
.card:hover{background:var(--cardh)}
.card.dmc{border-left-color:var(--dm)}.card.self{border-left-color:var(--self);background:rgba(139,92,246,.04)}
.card.self .ch .sr{color:var(--self)}
.card.pinned{border-color:rgba(234,179,8,.15);background:rgba(234,179,8,.03)}.card.pinned::before{content:'ðŸ“Œ';position:absolute;top:6px;right:8px;font-size:12px;opacity:.6}
body.compact .card{padding:6px 10px;margin-bottom:2px;border-radius:var(--rs)}.card .cb{font-size:13px}body.compact .card .cb{font-size:12px;line-height:1.3}

.ch{font-size:10px;font-weight:600;margin-bottom:5px;display:flex;justify-content:space-between;align-items:center;letter-spacing:.2px}
.ch .sr{color:var(--a);display:flex;align-items:center;gap:5px;cursor:pointer}.ch .sr.dms{color:var(--dm)}
.ch .me{color:var(--t4);display:flex;gap:5px;align-items:center;font-weight:500}
.ch .gt{background:var(--card);padding:2px 6px;border-radius:var(--rs);font-size:9px;color:var(--t3);transition:all var(--tr);cursor:pointer;font-weight:500}
.ch .gt:hover{color:var(--a);background:var(--ad)}
.dt{font-size:9px;color:var(--dm);background:var(--dmd);padding:1px 5px;border-radius:var(--rs);font-weight:500}

/* Avatars */
.av{width:16px;height:16px;border-radius:50%;object-fit:cover;border:1px solid var(--bd)}.avp{width:16px;height:16px;border-radius:50%;background:var(--ad);display:flex;align-items:center;justify-content:center;font-size:9px;color:var(--a);font-weight:700;flex-shrink:0}

.cb{font-size:14px;line-height:1.6;white-space:pre-wrap;color:var(--t)}
.cb img.att{max-width:100%;max-height:280px;border-radius:var(--rs);margin-top:6px;display:block;cursor:pointer;border:1px solid var(--bd)}

/* Reply */
.rb{font-size:10px;color:var(--t3);padding:4px 8px;margin-bottom:6px;background:var(--card);border-radius:var(--rs);cursor:pointer;border-left:2px solid var(--a);transition:color var(--tr);font-weight:500}
.rb:hover{color:var(--a)}.rb.dmrb{border-left-color:var(--dm)}.rb .rn{color:var(--a);font-weight:600}

/* Likes */
.lr{margin-top:6px;padding:3px 8px;background:var(--ad);border-radius:var(--rs)}.lr .ll{font-size:10px;color:var(--t2)}

/* Action bar */
.ca{display:flex;gap:4px;margin-top:8px;align-items:flex-end;flex-wrap:wrap}
.lk{background:var(--card);border:1px solid var(--bd);color:var(--t3);padding:3px 7px;border-radius:var(--rs);cursor:pointer;font-size:14px;transition:all var(--tr);flex-shrink:0}
.lk:hover{border-color:var(--a);color:var(--a)}.lk.on{background:var(--ad);border-color:var(--a);color:var(--a)}
.lk .lc{font-size:12px;margin-left:2px}
.pbtn2{background:0 0;border:1px solid var(--bd);color:var(--t4);padding:3px 6px;border-radius:var(--rs);cursor:pointer;font-size:13px;transition:all var(--tr);flex-shrink:0}
.pbtn2:hover{border-color:var(--warn);color:var(--warn)}.pbtn2.pinned{color:var(--warn);border-color:var(--warn)}
.abtn{background:0 0;border:1px solid var(--bd);color:var(--t4);padding:3px 6px;border-radius:var(--rs);cursor:pointer;font-size:12px;transition:all var(--tr);flex-shrink:0;font-weight:500}
.abtn:hover{border-color:var(--a);color:var(--a)}

/* Inputs */
.rin{flex-grow:1;background:var(--card);border:1px solid var(--bd);color:var(--t);padding:7px 10px;border-radius:var(--rs);outline:0;font-size:14px;font-family:inherit;resize:none;min-height:30px;max-height:120px;overflow-y:hidden;transition:border var(--tr)}
.rin:focus{border-color:var(--a)}.rin::placeholder{color:var(--t4)}
.sb{cursor:pointer;border:0;background:var(--a);color:#fff;padding:6px 12px;border-radius:var(--rs);font-size:14px;font-weight:600;transition:opacity var(--tr);flex-shrink:0}
.sb:hover{opacity:.85}.sb.dms{background:var(--dm)}
.imb{background:0 0;border:1px solid var(--bd);color:var(--t3);padding:4px 6px;border-radius:var(--rs);cursor:pointer;font-size:14px;flex-shrink:0;transition:all var(--tr)}
.imb:hover{border-color:var(--a);color:var(--a)}

/* Emoji */
.et{background:0 0;border:1px solid var(--bd);color:var(--t3);padding:3px 6px;border-radius:var(--rs);cursor:pointer;font-size:14px;flex-shrink:0;transition:all var(--tr)}.et:hover{border-color:var(--a);color:var(--a)}
.ep{position:absolute;bottom:100%;right:0;background:var(--bg2);border:1px solid var(--bd);border-radius:var(--r);padding:6px;display:none;z-index:100;box-shadow:0 -4px 16px rgba(0,0,0,.25)}
.ep.show{display:grid;grid-template-columns:repeat(8,1fr);gap:2px}.ep button{background:0 0;border:0;font-size:14px;cursor:pointer;padding:3px;border-radius:var(--rs)}.ep button:hover{background:var(--card)}

/* Sound pills */
.so{display:flex;flex-wrap:wrap;gap:4px}
.sop{background:var(--card);border:1px solid var(--bd);color:var(--t3);padding:6px 10px;border-radius:var(--rs);cursor:pointer;font-size:11px;transition:all var(--tr);display:flex;align-items:center;gap:4px;font-weight:500}
.sop:hover{border-color:var(--t3);color:var(--t)}.sop.sel{border-color:var(--a);color:var(--a);background:var(--ad)}
.sop .pb{background:0 0;border:0;color:inherit;cursor:pointer;font-size:14px}

/* --- STICKY --- */
#sticky-bar{display:none;padding:8px 14px;background:rgba(234,179,8,.03);border-bottom:1px solid rgba(234,179,8,.08);flex-shrink:0;align-items:center;gap:8px}
#sticky-bar.show{display:flex}
#sticky-bar textarea{flex:1;background:var(--card);border:1px solid rgba(234,179,8,.1);color:var(--t);padding:6px 10px;border-radius:var(--rs);font-family:inherit;font-size:13px;outline:0;resize:none;min-height:24px;max-height:50px}
.stl{font-size:10px;color:var(--warn);font-weight:700;letter-spacing:.5px;flex-shrink:0}
.st-exp{font-size:10px;color:var(--t3);flex-shrink:0}
.st-exp select{font-size:10px;background:var(--bg);color:var(--t2);border:1px solid var(--bd);border-radius:var(--rs);padding:2px 5px;outline:0;font-family:inherit}
#sticky-hist{display:none;max-height:80px;overflow-y:auto;padding:5px 14px;background:var(--card);border-bottom:1px solid var(--bd);font-size:13px}
#sticky-hist.show{display:block}
.sh-item{padding:4px 0;color:var(--t3);border-bottom:1px solid var(--bd2);display:flex;justify-content:space-between}
.sh-item .sh-text{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sh-item .sh-exp{font-size:9px;color:var(--t4);font-weight:500}

/* Templates */
#tpl-bar{display:none;padding:6px 14px;background:var(--bg2);border-bottom:1px solid var(--bd);flex-shrink:0;gap:5px;flex-wrap:wrap;align-items:center}
#tpl-bar.show{display:flex}
.tc{font-size:11px;padding:4px 10px;border:1px solid var(--bd);border-radius:20px;cursor:pointer;color:var(--t3);background:0 0;transition:all var(--tr);white-space:nowrap;display:flex;align-items:center;gap:4px;font-weight:500}
.tc:hover{border-color:var(--a);color:var(--a)}.tc .cp{font-size:11px;opacity:.4;cursor:pointer;transition:opacity var(--tr)}.tc .cp:hover{opacity:1;color:var(--ok)}.tc .cp.copied{color:var(--ok);opacity:1}
.tc-add{font-size:11px;color:var(--t4);cursor:pointer;padding:4px 10px;border:1px dashed var(--bd);border-radius:20px;transition:all var(--tr)}.tc-add:hover{border-color:var(--a);color:var(--a)}

/* Bottom bar */
#bb{padding:10px 14px;background:var(--bg2);border-bottom:1px solid var(--bd);display:flex;align-items:flex-end;gap:6px;flex-shrink:0}

/* Pin zone */
#pin-zone{width:95%;max-width:640px;margin-bottom:8px;display:none}#pin-zone.show{display:block}
#pin-zone .pz-hdr{font-size:10px;color:var(--warn);font-weight:700;letter-spacing:1px;padding:4px 0;border-bottom:1px solid rgba(234,179,8,.1);margin-bottom:6px}

/* Day dividers */
.day-div{width:95%;max-width:640px;display:flex;align-items:center;gap:14px;margin:16px 0 10px;user-select:none}
.day-div .dd-line{flex:1;height:1px;background:var(--bd)}
.day-div .dd-label{font-size:10px;font-weight:600;color:var(--t3);letter-spacing:1.5px;text-transform:uppercase;white-space:nowrap;padding:3px 12px;border:1px solid var(--bd);border-radius:20px;background:var(--bg2);cursor:default;transition:all var(--tr)}
.day-div .dd-label:hover{border-color:var(--t3)}
.dd-tip{position:fixed;z-index:9000;background:var(--bg2);border:1px solid var(--a);color:var(--t);font-size:11px;font-weight:600;padding:6px 14px;border-radius:var(--rs);transform:translateX(-50%);pointer-events:none;box-shadow:0 4px 16px rgba(0,0,0,.35);white-space:nowrap;animation:cIn .12s ease-out}

/* Day cue */
#day-cue{position:absolute;top:8px;right:8px;background:var(--bg2);border:1px solid var(--bd);border-radius:var(--rs);padding:5px 12px;z-index:800;text-align:center;opacity:0;pointer-events:none;transition:opacity .2s;box-shadow:0 2px 8px rgba(0,0,0,.2)}
#day-cue.show{opacity:.85}
#day-cue .dc-day{font-size:11px;font-weight:700;color:var(--a);line-height:1}
#day-cue .dc-date{font-size:9px;color:var(--t2);margin-top:2px;line-height:1}

#sctop{position:absolute;top:50px;right:16px;background:var(--a);color:#fff;border:0;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:13px;display:none;z-index:500;box-shadow:0 2px 8px rgba(0,0,0,.3)}
.dd{width:4px;height:4px;border-radius:50%;background:var(--warn);position:absolute;top:4px;left:4px}
.del-btn{background:0 0;border:1px solid rgba(239,68,68,.1);color:var(--t4);padding:3px 7px;border-radius:var(--rs);cursor:pointer;font-size:10px;transition:all var(--tr);flex-shrink:0;font-weight:500}
.del-btn:hover{border-color:var(--dg);color:var(--dg);background:rgba(239,68,68,.04)}

/* --- MODALS --- */
.modal{display:none;position:fixed;inset:0;z-index:8000;background:rgba(0,0,0,.6);align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.modal.show{display:flex}
.mbox{background:var(--bg2);border:1px solid var(--bd);border-radius:var(--r);width:380px;max-width:90vw;max-height:70vh;overflow-y:auto;overflow-x:hidden;padding:20px;box-shadow:0 16px 48px rgba(0,0,0,.4)}
.mbox .ot{margin-bottom:10px}
.fwd-i{padding:8px 12px;border-bottom:1px solid var(--bd2);cursor:pointer;font-size:14px;color:var(--t2);transition:all var(--tr);border-radius:var(--rs)}
.fwd-i:hover{background:var(--ad);color:var(--a)}
.cd-i{padding:10px 16px;border-bottom:1px solid var(--bd2);font-size:13px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background var(--tr)}
.cd-i:hover{background:var(--card)}.cd-n{color:var(--t);font-weight:600}.cd-g{font-size:10px;color:var(--t3);margin-top:2px}

/* Members panel */
.members-ov{display:none;position:absolute;inset:0;background:var(--bg2);z-index:3500;flex-direction:column;padding:24px;overflow-y:auto}
.members-ov.show{display:flex}
.mem-item{display:flex;align-items:center;gap:10px;padding:10px 0;border-bottom:1px solid var(--bd2);transition:background var(--tr)}
.mem-item:hover{background:var(--card);margin:0 -8px;padding:10px 8px;border-radius:var(--rs)}
.mem-av{width:28px;height:28px;border-radius:50%;background:var(--ad);display:flex;align-items:center;justify-content:center;font-size:11px;color:var(--a);font-weight:700;flex-shrink:0;border:1px solid var(--bd)}
.mem-av img{width:28px;height:28px;border-radius:50%;object-fit:cover}
.mem-info{flex:1;min-width:0}.mem-name{font-size:13px;font-weight:600;color:var(--t)}.mem-role{font-size:10px;color:var(--t3);font-weight:500}
.mem-action{background:0 0;border:1px solid var(--bd);color:var(--dm);font-size:12px;padding:4px 10px;border-radius:20px;cursor:pointer;transition:all var(--tr);font-weight:500;font-family:inherit}
.mem-action:hover{border-color:var(--dm);background:var(--dmd)}

/* Lightbox */
#lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:9999;align-items:center;justify-content:center;cursor:pointer;backdrop-filter:blur(8px)}
#lightbox img{max-width:90vw;max-height:90vh;border-radius:var(--rs)}

/* Clipboard */
#cb{display:none;position:fixed;z-index:10000;width:300px;min-height:160px;max-height:70vh;background:var(--bg2);border:1px solid var(--bd);border-radius:var(--r);box-shadow:0 8px 32px rgba(0,0,0,.4);flex-direction:column;overflow:hidden;resize:both}
#cb.show{display:flex}
#cbh{padding:6px 10px;background:var(--a);color:#fff;font-size:12px;font-weight:600;letter-spacing:.5px;cursor:move;display:flex;justify-content:space-between;align-items:center;user-select:none;border-radius:var(--r) var(--r) 0 0}
#cbh button{background:0 0;border:0;color:rgba(255,255,255,.8);cursor:pointer;font-size:13px;padding:0 3px;transition:color var(--tr)}#cbh button:hover{color:#fff}
#cbb{flex:1;padding:10px;color:var(--t);border:0;outline:0;font-family:inherit;font-size:13px;resize:none;line-height:1.5;min-height:100px;background:0 0}
#cbf{padding:4px 10px;font-size:10px;color:var(--t4);border-top:1px solid var(--bd);display:flex;justify-content:space-between;font-weight:500}

/* Alert popup */
.alert-pop{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg2);border:1px solid var(--bd);border-radius:var(--r);padding:24px 32px;z-index:9800;box-shadow:0 16px 48px rgba(0,0,0,.4);text-align:center;font-size:14px;color:var(--t);animation:cIn .15s}
.alert-pop button{margin-top:16px;padding:8px 24px}
