/* ============================
   DELTA 360 â€” COMPONENTS
   ============================ */

/* --- HEADER BUTTONS --- */
.hb {
  font-family: 'JetBrains Mono'; text-transform: uppercase; cursor: pointer;
  border: 1px solid var(--bd); background: transparent; color: var(--t2);
  padding: 4px 8px; border-radius: 4px; font-size: 10px; letter-spacing: 0.8px; transition: 0.2s;
}
.hb:hover { border-color: var(--a); color: var(--a) }
.hb.p { background: var(--a); color: #fff; border-color: var(--a); font-weight: 700 }
.hb.active-panel { background: var(--ad); border-color: var(--a); color: var(--a) }
.ib {
  background: transparent; border: 1px solid var(--bd); color: var(--t3);
  width: 30px; height: 30px; border-radius: 4px; cursor: pointer;
  font-size: 15px; display: flex; align-items: center; justify-content: center; transition: 0.2s;
}
.ib:hover { border-color: var(--a); color: var(--a) }
.ib.active-panel { background: var(--ad); border-color: var(--a); color: var(--a) }

/* --- STATUS BADGES --- */
.stat-b { font-size: 9px; font-family: 'JetBrains Mono'; font-weight: 700; padding: 2px 5px; border-radius: 3px; letter-spacing: 0.8px; text-transform: uppercase }
.stat-avl { background: rgba(0,210,106,.12); color: var(--ok); border: 1px solid rgba(0,210,106,.25) }
.stat-bsy { background: rgba(255,59,59,.08); color: var(--dg); border: 1px solid rgba(255,59,59,.15) }
.stat-awy { background: rgba(255,204,0,.08); color: var(--warn); border: 1px solid rgba(255,204,0,.2) }

/* --- OVERLAY PANELS --- */
.ov {
  display: none; position: absolute; inset: 0; background: var(--bg2);
  z-index: 3500; flex-direction: column; padding: 20px; overflow-y: auto;
}
.ov.show { display: flex }
.ov input, .ov select, .ov textarea {
  background: rgba(128,128,128,.08); border: 1px solid var(--bd); color: var(--t);
  padding: 9px 12px; border-radius: 5px; font-size: 14px; font-family: 'Outfit'; outline: 0;
}
.ov input:focus, .ov textarea:focus { border-color: var(--a) }
.ot {
  font-family: 'JetBrains Mono'; font-size: 10px; color: var(--a); font-weight: 700;
  letter-spacing: 1.5px; margin-bottom: 6px; text-transform: uppercase;
}
.oclose { position: absolute; top: 14px; right: 16px; background: transparent; border: 0; color: var(--t3); font-size: 16px; cursor: pointer }

/* --- TRAYS (DROPDOWN MENUS) --- */
.tray-w { position: relative; display: inline-block }
.tbtn {
  font-family: 'JetBrains Mono'; text-transform: uppercase; cursor: pointer;
  border: 1px solid var(--bd); background: transparent; color: var(--t2);
  padding: 4px 8px; border-radius: 4px; font-size: 15px;
  letter-spacing: 0.8px; transition: 0.15s;
  display: flex; align-items: center; gap: 3px;
}
.tbtn:hover { border-color: var(--a); color: var(--a) }
.tbtn.open { background: var(--ad); border-color: var(--a); color: var(--a) }
.tray {
  display: none; position: absolute; top: calc(100% + 4px); right: 0;
  background: var(--bg2); border: 1px solid var(--bd); border-radius: 6px;
  padding: 4px; z-index: 9000; min-width: 150px;
  box-shadow: 0 6px 24px rgba(0,0,0,.5);
}
.tray.show { display: flex; flex-direction: column; gap: 1px }
.tray-i {
  display: flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 4px;
  cursor: pointer; font-size: 14px; color: var(--t2); transition: 0.1s;
  white-space: nowrap; border: 0; background: transparent;
  font-family: 'Outfit'; text-align: left; width: 100%;
}
.tray-i:hover { background: var(--card); color: var(--t) }
.tray-i .ico { font-size: 14px; width: 16px; text-align: center; flex-shrink: 0 }
.tray-i.danger { color: var(--dg) }
.tray-i.danger:hover { background: rgba(255,59,59,.06) }
.tray-sep { height: 1px; background: var(--bd); margin: 2px 8px }

/* --- DISPATCH BOARD --- */
#dboard {
  display: none; background: var(--card); border-bottom: 1px solid var(--bd);
  padding: 4px 14px; flex-shrink: 0; overflow-x: auto; white-space: nowrap;
  gap: 8px; align-items: center;
}
#dboard.show { display: flex }
#dboard .db-title {
  font-size: 9px; font-family: 'JetBrains Mono'; font-weight: 700;
  color: var(--t3); letter-spacing: 1.5px; text-transform: uppercase;
  flex-shrink: 0; margin-right: 6px;
}
.db-chip {
  display: inline-flex; align-items: center; gap: 4px; padding: 4px 10px;
  border-radius: 3px; font-size: 10px; font-family: 'JetBrains Mono';
  border: 1px solid var(--bd); background: var(--card); flex-shrink: 0;
}
.db-chip .db-dot { width: 5px; height: 5px; border-radius: 50%; flex-shrink: 0 }
.db-chip .db-dot.avl { background: var(--ok); box-shadow: 0 0 3px var(--ok) }
.db-chip .db-dot.bsy { background: var(--dg); box-shadow: 0 0 3px var(--dg) }
.db-chip .db-dot.awy { background: var(--warn); box-shadow: 0 0 3px var(--warn) }
.db-chip .db-name { color: var(--t2) }
.db-chip.me { border-color: var(--a); background: var(--ad) }
.db-chip.me .db-name { color: var(--a); font-weight: 700 }

/* --- TOAST NOTIFICATIONS --- */
#toast-zone {
  position: fixed; top: 60px; right: 16px; z-index: 9500;
  display: flex; flex-direction: column; gap: 6px; pointer-events: none;
}
.toast {
  background: var(--bg2); border: 1px solid var(--a); border-left: 3px solid var(--a);
  border-radius: 6px; padding: 10px 14px; max-width: 320px;
  pointer-events: auto; cursor: pointer; animation: tIn 0.3s ease-out;
  box-shadow: 0 4px 20px rgba(0,0,0,.4);
}
.toast .t-hdr {
  font-size: 10px; font-family: 'JetBrains Mono'; color: var(--a); font-weight: 700;
  letter-spacing: 1px; margin-bottom: 3px; display: flex; justify-content: space-between;
}
.toast .t-body { font-size: 14px; color: var(--t); line-height: 1.4 }
.toast .t-meta { font-size: 10px; color: var(--t3); margin-top: 3px }
.toast.pri-toast { border-color: var(--dg); border-left-color: var(--dg) }
.toast.pri-toast .t-hdr { color: var(--dg) }

/* --- MESSAGE CARDS --- */
.card {
  width: 95%; max-width: 640px; background: var(--card);
  padding: 12px 14px; border-radius: 6px; margin-bottom: 8px;
  border: 1px solid var(--bd); border-left: 3px solid var(--a);
  position: relative; transition: 0.2s; animation: cIn 0.2s ease-out;
}
.card:hover { background: var(--cardh) }
.card.dmc { border-left-color: var(--dm) }
.card.self { border-left-color: #8b5cf6; opacity: 1; background: rgba(139,92,246,.08) }
.card.self .ch .sr { color: #8b5cf6 }
.card.pinned { border-color: rgba(255,200,0,.3); background: rgba(255,200,0,.06) }
.card.pinned::before { content: 'ðŸ“Œ'; position: absolute; top: 5px; right: 7px; font-size: 14px }
body.compact .card { padding: 5px 8px; margin-bottom: 2px; border-radius: 3px }
body.compact .card .cb { font-size: 15px; line-height: 1.3 }

/* Card header */
.ch { font-size: 10px; font-family: 'JetBrains Mono'; font-weight: 700; margin-bottom: 4px; display: flex; justify-content: space-between; align-items: center }
.ch .sr { color: var(--a); letter-spacing: 0.8px; display: flex; align-items: center; gap: 4px; cursor: pointer }
.ch .sr.dms { color: var(--dm) }
.ch .me { color: var(--t4); display: flex; gap: 5px; align-items: center }
.ch .gt { background: rgba(128,128,128,.06); padding: 2px 5px; border-radius: 2px; font-size: 9px; color: var(--t3); transition: 0.15s; cursor: pointer }
.ch .gt:hover { color: var(--a); background: var(--ad) }
.dt { font-size: 9px; font-family: 'JetBrains Mono'; color: var(--dm); background: var(--dmd); padding: 1px 4px; border-radius: 2px }

/* Avatars */
.av { width: 16px; height: 16px; border-radius: 50%; object-fit: cover; border: 1px solid var(--bd) }
.avp { width: 16px; height: 16px; border-radius: 50%; background: var(--ad); display: flex; align-items: center; justify-content: center; font-size: 14px; color: var(--a); font-weight: 700; font-family: 'JetBrains Mono'; flex-shrink: 0 }

/* Card body */
.cb { font-size: 14px; line-height: 1.5; white-space: pre-wrap; color: var(--t) }
.cb img.att { max-width: 100%; max-height: 280px; border-radius: 4px; margin-top: 5px; display: block; cursor: pointer; border: 1px solid var(--bd) }

/* Reply bubbles */
.rb { font-size: 10px; color: var(--t2); padding: 4px 7px; margin-bottom: 5px; background: rgba(128,128,128,.08); border-radius: 3px; cursor: pointer; font-family: 'JetBrains Mono'; border-left: 2px solid var(--a); transition: 0.15s }
.rb:hover { color: var(--a) }
.rb.dmrb { border-left-color: var(--dm) }
.rb .rn { color: var(--a); font-weight: 700 }

/* Likes row */
.lr { margin-top: 5px; padding: 3px 6px; background: var(--ad); border-radius: 3px; border-left: 2px solid rgba(255,92,0,.25) }
.lr .ll { font-size: 10px; color: var(--t2) }

/* Card action bar */
.ca { display: flex; gap: 3px; margin-top: 6px; align-items: flex-end; flex-wrap: wrap }
.lk { background: var(--card); border: 1px solid var(--bd); color: var(--t3); padding: 3px 6px; border-radius: 3px; cursor: pointer; font-size: 15px; transition: 0.15s; flex-shrink: 0 }
.lk:hover { border-color: var(--a); color: var(--a) }
.lk.on { background: var(--ad); border-color: var(--a); color: var(--a) }
.lk .lc { font-size: 15px; margin-left: 2px; font-family: 'JetBrains Mono' }
.pbtn2 { background: transparent; border: 1px solid var(--bd); color: var(--t3); padding: 3px 5px; border-radius: 3px; cursor: pointer; font-size: 14px; transition: 0.15s; flex-shrink: 0 }
.pbtn2:hover { border-color: var(--warn); color: var(--warn) }
.pbtn2.pinned { color: var(--warn); border-color: var(--warn) }
.abtn { background: transparent; border: 1px solid var(--bd); color: var(--t3); padding: 3px 5px; border-radius: 3px; cursor: pointer; font-size: 14px; transition: 0.15s; flex-shrink: 0 }
.abtn:hover { border-color: var(--a); color: var(--a) }

/* Input & buttons */
.rin {
  flex-grow: 1; background: rgba(128,128,128,.1); border: 1px solid var(--bd);
  color: var(--t); padding: 5px 8px; border-radius: 4px; outline: 0;
  font-size: 15px; font-family: 'Outfit'; resize: none;
  min-height: 28px; max-height: 120px; overflow-y: hidden; transition: border-color 0.15s;
}
.rin:focus { border-color: var(--a) }
.rin::placeholder { color: var(--t4) }
.sb {
  font-family: 'JetBrains Mono'; text-transform: uppercase; cursor: pointer;
  border: 0; background: var(--a); color: #fff; padding: 5px 10px;
  border-radius: 4px; font-size: 15px; font-weight: 700;
  letter-spacing: 0.8px; transition: 0.15s; flex-shrink: 0;
}
.sb:hover { opacity: 0.85 }
.sb.dms { background: var(--dm) }
.imb { background: transparent; border: 1px solid var(--bd); color: var(--t3); padding: 3px 5px; border-radius: 3px; cursor: pointer; font-size: 15px; flex-shrink: 0; transition: 0.15s }
.imb:hover { border-color: var(--a); color: var(--a) }

/* Emoji picker */
.et { background: transparent; border: 1px solid var(--bd); color: var(--t3); padding: 3px 5px; border-radius: 3px; cursor: pointer; font-size: 15px; flex-shrink: 0; transition: 0.15s }
.et:hover { border-color: var(--a); color: var(--a) }
.ep { position: absolute; bottom: 100%; right: 0; background: var(--bg2); border: 1px solid var(--bd); border-radius: 5px; padding: 5px; display: none; z-index: 100; box-shadow: 0 -3px 12px rgba(0,0,0,.25) }
.ep.show { display: grid; grid-template-columns: repeat(8, 1fr); gap: 1px }
.ep button { background: transparent; border: 0; font-size: 14px; cursor: pointer; padding: 2px; border-radius: 2px }
.ep button:hover { background: rgba(128,128,128,.08) }

/* Sound option pills */
.so { display: flex; flex-wrap: wrap; gap: 3px }
.sop { background: rgba(128,128,128,.1); border: 1px solid var(--bd); color: var(--t2); padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 11px; transition: 0.15s; display: flex; align-items: center; gap: 3px }
.sop:hover { border-color: var(--t3) }
.sop.sel { border-color: var(--a); color: var(--a); background: var(--ad) }
.sop .pb { background: transparent; border: 0; color: inherit; cursor: pointer; font-size: 15px }

/* --- STICKY NOTES --- */
#sticky-bar { display: none; padding: 6px 12px; background: rgba(255,204,0,.04); border-bottom: 1px solid rgba(255,204,0,.12); font-size: 15px; flex-shrink: 0; align-items: center; gap: 6px }
#sticky-bar.show { display: flex }
#sticky-bar textarea { flex: 1; background: rgba(128,128,128,.1); border: 1px solid rgba(255,204,0,.15); color: var(--t); padding: 5px 8px; border-radius: 4px; font-family: 'Outfit'; font-size: 15px; outline: 0; resize: none; min-height: 24px; max-height: 50px }
.stl { font-family: 'JetBrains Mono'; font-size: 10px; color: var(--warn); font-weight: 700; letter-spacing: 0.8px; flex-shrink: 0 }
.st-exp { font-size: 10px; color: var(--t3); flex-shrink: 0 }
.st-exp select { font-size: 10px; background: var(--bg); color: var(--t2); border: 1px solid var(--bd); border-radius: 3px; padding: 1px 4px; outline: 0 }
#sticky-hist { display: none; max-height: 80px; overflow-y: auto; padding: 4px 12px; background: var(--card); border-bottom: 1px solid var(--bd); font-size: 14px }
#sticky-hist.show { display: block }
.sh-item { padding: 3px 0; color: var(--t3); border-bottom: 1px solid var(--bd2); display: flex; justify-content: space-between }
.sh-item .sh-text { flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap }
.sh-item .sh-exp { font-size: 9px; color: var(--t4); font-family: 'JetBrains Mono' }

/* --- TEMPLATE BAR --- */
#tpl-bar { display: none; padding: 5px 12px; background: var(--card); border-bottom: 1px solid var(--bd); flex-shrink: 0; gap: 4px; flex-wrap: wrap; align-items: center }
#tpl-bar.show { display: flex }
.tc { font-size: 11px; font-family: 'JetBrains Mono'; padding: 3px 8px; border: 1px solid var(--bd); border-radius: 3px; cursor: pointer; color: var(--t2); background: var(--card); transition: 0.15s; white-space: nowrap; display: flex; align-items: center; gap: 4px }
.tc:hover { border-color: var(--a); color: var(--a) }
.tc .cp { font-size: 12px; opacity: 0.5; cursor: pointer; transition: 0.15s }
.tc .cp:hover { opacity: 1; color: var(--ok) }
.tc .cp.copied { color: var(--ok); opacity: 1 }
.tc-add { font-size: 11px; color: var(--t3); cursor: pointer; padding: 3px 6px; border: 1px dashed var(--bd); border-radius: 3px }
.tc-add:hover { border-color: var(--a); color: var(--a) }

/* --- BOTTOM BAR (INPUT) --- */
#bb { padding: 8px 12px; background: var(--card); border-bottom: 1px solid var(--bd); display: flex; align-items: flex-end; gap: 5px; flex-shrink: 0 }

/* --- PIN ZONE --- */
#pin-zone { width: 95%; max-width: 640px; margin-bottom: 6px; display: none }
#pin-zone.show { display: block }
#pin-zone .pz-hdr { font-size: 10px; font-family: 'JetBrains Mono'; color: var(--warn); font-weight: 700; letter-spacing: 1.5px; padding: 4px 0; border-bottom: 1px solid rgba(255,204,0,.15); margin-bottom: 4px }

/* --- DAY DIVIDERS --- */
.day-div { width: 95%; max-width: 640px; display: flex; align-items: center; gap: 12px; margin: 12px 0 8px; user-select: none }
.day-div .dd-line { flex: 1; height: 1px; background: var(--bd) }
.day-div .dd-label { font-size: 10px; font-family: 'JetBrains Mono'; font-weight: 700; color: var(--t3); letter-spacing: 1.5px; text-transform: uppercase; white-space: nowrap; padding: 2px 10px; border: 1px solid var(--bd); border-radius: 12px; background: var(--bg2) }

/* --- DAY CUE BADGE --- */
#day-cue { position: absolute; top: 8px; right: 8px; background: var(--bg2); border: 1px solid var(--bd); border-radius: 6px; padding: 5px 12px; z-index: 800; text-align: center; opacity: 0; pointer-events: none; transition: opacity 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,.3) }
#day-cue.show { opacity: 0.9 }
#day-cue .dc-day { font-size: 12px; font-family: 'JetBrains Mono'; font-weight: 700; color: var(--a); line-height: 1 }
#day-cue .dc-date { font-size: 9px; color: var(--t2); margin-top: 1px; line-height: 1 }

/* --- SCROLL TO TOP --- */
#sctop { position: absolute; top: 56px; right: 16px; background: var(--a); color: #fff; border: 0; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 15px; display: none; z-index: 500 }
.dd { width: 4px; height: 4px; border-radius: 50%; background: var(--warn); position: absolute; top: 4px; left: 4px }

/* --- DELETE BUTTON --- */
.del-btn { background: transparent; border: 1px solid rgba(255,59,59,.15); color: var(--t4); padding: 3px 6px; border-radius: 3px; cursor: pointer; font-size: 10px; font-family: 'JetBrains Mono'; transition: 0.15s; flex-shrink: 0 }
.del-btn:hover { border-color: var(--dg); color: var(--dg); background: rgba(255,59,59,.05) }

/* --- MODALS --- */
.modal { display: none; position: fixed; inset: 0; z-index: 8000; background: rgba(0,0,0,.75); align-items: center; justify-content: center }
.modal.show { display: flex }
.mbox { background: var(--bg2); border: 1px solid var(--bd); border-radius: 8px; width: 380px; max-width: 90vw; max-height: 70vh; overflow-y: auto; overflow-x: hidden; padding: 14px; box-sizing: border-box }
.mbox .ot { margin-bottom: 8px }
.fwd-i { padding: 7px 10px; border-bottom: 1px solid var(--bd2); cursor: pointer; font-size: 15px; color: var(--t2); transition: 0.12s; border-radius: 3px }
.fwd-i:hover { background: var(--ad); color: var(--a) }
.cd-i { padding: 8px 14px; border-bottom: 1px solid var(--bd2); font-size: 13px; display: flex; justify-content: space-between; align-items: center; cursor: pointer }
.cd-i:hover { background: rgba(128,128,128,.08) }
.cd-n { color: var(--t); font-weight: 600 }
.cd-g { font-size: 10px; color: var(--t3); margin-top: 1px }

/* --- LIGHTBOX --- */
#lightbox { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.9); z-index: 9999; align-items: center; justify-content: center; cursor: pointer }
#lightbox img { max-width: 90vw; max-height: 90vh; border-radius: 4px }

/* --- FLOATING CLIPBOARD --- */
#cb { display: none; position: fixed; z-index: 10000; width: 300px; min-height: 160px; max-height: 70vh; background: var(--bg2); border: 1px solid var(--a); border-radius: 7px; box-shadow: 0 5px 25px rgba(0,0,0,.4); flex-direction: column; overflow: hidden; resize: both }
#cb.show { display: flex }
#cbh { padding: 5px 8px; background: var(--a); color: #fff; font-family: 'JetBrains Mono'; font-size: 14px; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; cursor: move; display: flex; justify-content: space-between; align-items: center; user-select: none }
#cbh button { background: transparent; border: 0; color: #fff; cursor: pointer; font-size: 14px; padding: 0 2px }
#cbb { flex: 1; padding: 7px; color: var(--t); border: 0; outline: 0; font-family: 'Outfit'; font-size: 14px; resize: none; line-height: 1.4; min-height: 100px; background: transparent }
#cbf { padding: 2px 7px; font-size: 15px; color: var(--t4); font-family: 'JetBrains Mono'; border-top: 1px solid var(--bd); display: flex; justify-content: space-between }

/* --- ALERT POPUP --- */
.alert-pop { position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); background: var(--bg2); border: 1px solid var(--a); border-radius: 8px; padding: 20px 28px; z-index: 9800; box-shadow: 0 8px 30px rgba(0,0,0,.5); text-align: center; font-size: 14px; color: var(--t); animation: cIn 0.2s }
.alert-pop button { margin-top: 12px; padding: 6px 20px }
